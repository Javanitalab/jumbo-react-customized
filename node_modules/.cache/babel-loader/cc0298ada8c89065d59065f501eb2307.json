{"ast":null,"code":"import _classCallCheck from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import Button from'@material-ui/core/Button';import SwipeableViews from'react-swipeable-views';import AppBar from'@material-ui/core/AppBar';import Tabs from'@material-ui/core/Tabs';import Tab from'@material-ui/core/Tab';import Drawer from'@material-ui/core/Drawer';import CircularProgress from'@material-ui/core/CircularProgress';import IconButton from'@material-ui/core/IconButton';import Input from'@material-ui/core/Input';import ChatUserList from'components/chatPanel/ChatUserList/index';import Conversation from'components/chatPanel/Conversation/index';import ContactList from'components/chatPanel/ContactList/index';import SearchBox from'components/SearchBox';import IntlMessages from'util/IntlMessages';import{fetchChatUser,fetchChatUserConversation,filterContacts,filterUsers,hideLoader,onChatToggleDrawer,onSelectUser,submitComment,updateMessageValue,updateSearchChatUser,userInfoState}from'actions/Chat';import CustomScrollbars from'util/CustomScrollbars';var ChatPanelWithRedux=/*#__PURE__*/function(_Component){_inherits(ChatPanelWithRedux,_Component);function ChatPanelWithRedux(){var _this;_classCallCheck(this,ChatPanelWithRedux);_this=_possibleConstructorReturn(this,_getPrototypeOf(ChatPanelWithRedux).call(this));_this.filterContacts=function(userName){_this.props.filterContacts(userName);};_this.filterUsers=function(userName){_this.props.filterUsers(userName);};_this._handleKeyPress=function(e){if(e.key==='Enter'){_this.submitComment();}};_this.onSelectUser=function(user){_this.props.onSelectUser(user);setTimeout(function(){_this.props.hideLoader();},1500);};_this.submitComment=function(){if(_this.props.message!==''){_this.props.submitComment();}};_this.updateMessageValue=function(evt){_this.props.updateMessageValue(evt.target.value);};_this.Communication=function(){var _this$props=_this.props,message=_this$props.message,selectedUser=_this$props.selectedUser,conversation=_this$props.conversation;var conversationData=conversation.conversationData;return React.createElement(\"div\",{className:\"chat-main\"},React.createElement(\"div\",{className:\"chat-main-header\"},React.createElement(IconButton,{className:\"d-block d-xl-none chat-btn\",\"aria-label\":\"Menu\",onClick:_this.onChatToggleDrawer.bind(_assertThisInitialized(_this))},React.createElement(\"i\",{className:\"zmdi zmdi-comment-text\"})),React.createElement(\"div\",{className:\"chat-main-header-info\"},React.createElement(\"div\",{className:\"chat-avatar mr-2\"},React.createElement(\"div\",{className:\"chat-avatar-mode\"},React.createElement(\"img\",{src:selectedUser.thumb,className:\"rounded-circle size-60\",alt:\"\"}),React.createElement(\"span\",{className:\"chat-mode \".concat(selectedUser.status)}))),React.createElement(\"div\",{className:\"chat-contact-name\"},selectedUser.name))),React.createElement(CustomScrollbars,{className:\"chat-list-scroll scrollbar\",style:{height:_this.props.width>=1200?'calc(100vh - 300px)':'calc(100vh - 269px)'}},React.createElement(Conversation,{conversationData:conversationData,selectedUser:selectedUser})),React.createElement(\"div\",{className:\"chat-main-footer\"},React.createElement(\"div\",{className:\"d-flex flex-row align-items-center\",style:{maxHeight:51}},React.createElement(\"div\",{className:\"col\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"textarea\",{id:\"required\",className:\"border-0 form-control chat-textarea\",onKeyUp:_this._handleKeyPress.bind(_assertThisInitialized(_this)),onChange:_this.updateMessageValue.bind(_assertThisInitialized(_this)),value:message,placeholder:\"Type and hit enter to send message\"}))),React.createElement(\"div\",{className:\"chat-sent\"},React.createElement(IconButton,{onClick:_this.submitComment.bind(_assertThisInitialized(_this)),\"aria-label\":\"Send message\"},React.createElement(\"i\",{className:\"zmdi  zmdi-mail-send\"}))))));};_this.AppUsersInfo=function(){return React.createElement(\"div\",{className:\"chat-sidenav-main\"},React.createElement(\"div\",{className:\"bg-grey lighten-5 chat-sidenav-header\"},React.createElement(\"div\",{className:\"chat-user-hd mb-0\"},React.createElement(IconButton,{className:\"back-to-chats-button\",\"aria-label\":\"back button\",onClick:function onClick(){_this.setState({userState:1});}},React.createElement(\"i\",{className:\"zmdi zmdi-arrow-back\"}))),React.createElement(\"div\",{className:\"chat-user chat-user-center\"},React.createElement(\"div\",{className:\"chat-avatar mx-auto\"},React.createElement(\"img\",{src:\"https://via.placeholder.com/150x150\",className:\"avatar avatar-shadow rounded-circle size-60 huge\",alt:\"John Doe\"})),React.createElement(\"div\",{className:\"user-name h4 my-2 text-white\"},\"Robert Johnson\"))),React.createElement(\"div\",{className:\"chat-sidenav-content\"},React.createElement(CustomScrollbars,{className:\"chat-sidenav-scroll scrollbar\",style:{height:_this.props.width>=1200?'calc(100vh - 328px)':'calc(100vh - 162px)'}},React.createElement(\"form\",{className:\"p-4\"},React.createElement(\"div\",{className:\"form-group mt-4\"},React.createElement(\"label\",null,\"Mood\"),React.createElement(Input,{fullWidth:true,id:\"exampleTextarea\",multiline:true,rows:3,onKeyUp:_this._handleKeyPress.bind(_assertThisInitialized(_this)),onChange:_this.updateMessageValue.bind(_assertThisInitialized(_this)),defaultValue:\"it's a status....not your diary...\",placeholder:\"Status\",margin:\"none\"}))))));};_this.ChatUsers=function(){return React.createElement(\"div\",{className:\"chat-sidenav-main\"},React.createElement(\"div\",{className:\"chat-sidenav-header\"},React.createElement(\"div\",{className:\"chat-user-hd\"},React.createElement(\"div\",{className:\"chat-avatar mr-3\",onClick:function onClick(){_this.props.userInfoState(2);}},React.createElement(\"div\",{className:\"chat-avatar-mode\"},React.createElement(\"img\",{id:\"user-avatar-button\",src:\"https://via.placeholder.com/150x150\",className:\"rounded-circle size-50\",alt:\"\"}),React.createElement(\"span\",{className:\"chat-mode online\"}))),React.createElement(\"div\",{className:\"module-user-info d-flex flex-column justify-content-center\"},React.createElement(\"div\",{className:\"module-title\"},React.createElement(\"h5\",{className:\"mb-0\"},\"Robert Johnson\")),React.createElement(\"div\",{className:\"module-user-detail\"},React.createElement(\"span\",{className:\"text-grey\"},\"robert@example.com\")))),React.createElement(\"div\",{className:\"search-wrapper\"},React.createElement(SearchBox,{placeholder:\"Search or start new chat\",onChange:_this.updateSearchChatUser.bind(_assertThisInitialized(_this)),value:_this.props.searchChatUser}))),React.createElement(\"div\",{className:\"chat-sidenav-content\"},React.createElement(AppBar,{position:\"static\",className:\"no-shadow chat-tabs-header\"},React.createElement(Tabs,{className:\"chat-tabs\",value:_this.state.selectedTabIndex,onChange:_this.handleChange,indicatorColor:\"primary\",textColor:\"primary\",fullWidth:true},React.createElement(Tab,{label:React.createElement(IntlMessages,{id:\"chat.chatUser\"})}),React.createElement(Tab,{label:React.createElement(IntlMessages,{id:\"chat.contacts\"})}))),React.createElement(SwipeableViews,{index:_this.state.selectedTabIndex,onChangeIndex:_this.handleChangeIndex},React.createElement(CustomScrollbars,{className:\"chat-sidenav-scroll scrollbar\",style:{height:_this.props.width>=1200?'calc(100vh - 328px)':'calc(100vh - 202px)'}},_this.props.chatUsers.length===0?React.createElement(\"div\",{className:\"p-5\"},_this.props.userNotFound):React.createElement(ChatUserList,{chatUsers:_this.props.chatUsers,selectedSectionId:_this.props.selectedSectionId,onSelectUser:_this.onSelectUser.bind(_assertThisInitialized(_this))})),React.createElement(CustomScrollbars,{className:\"chat-sidenav-scroll scrollbar\",style:{height:_this.props.width>=1200?'calc(100vh - 328px)':'calc(100vh - 202px)'}},_this.props.contactList.length===0?React.createElement(\"div\",{className:\"p-5\"},_this.props.userNotFound):React.createElement(ContactList,{contactList:_this.props.contactList,selectedSectionId:_this.props.selectedSectionId,onSelectUser:_this.onSelectUser.bind(_assertThisInitialized(_this))})))));};_this.handleChange=function(event,value){_this.setState({selectedTabIndex:value});};_this.handleChangeIndex=function(index){_this.setState({selectedTabIndex:index});};_this.showCommunication=function(){return React.createElement(\"div\",{className:\"chat-box\"},React.createElement(\"div\",{className:\"chat-box-main\"},_this.props.selectedUser===null?React.createElement(\"div\",{className:\"loader-view\"},React.createElement(\"i\",{className:\"zmdi zmdi-comment s-128 text-muted\"}),React.createElement(\"h1\",{className:\"text-muted\"},\" \",React.createElement(IntlMessages,{id:\"chat.selectUserChat\"})),React.createElement(Button,{className:\"d-block d-xl-none\",color:\"primary\",onClick:_this.onChatToggleDrawer.bind(_assertThisInitialized(_this))},React.createElement(IntlMessages,{id:\"chat.selectContactChat\"}))):_this.Communication()));};_this.state={selectedTabIndex:0};return _this;}_createClass(ChatPanelWithRedux,[{key:\"componentWillMount\",value:function componentWillMount(){this.props.fetchChatUser();this.props.fetchChatUserConversation();}},{key:\"updateSearchChatUser\",value:function updateSearchChatUser(evt){this.props.updateSearchChatUser(evt.target.value);this.props.filterContacts(evt.target.value);this.props.filterUsers(evt.target.value);}},{key:\"onChatToggleDrawer\",value:function onChatToggleDrawer(){this.props.onChatToggleDrawer();}},{key:\"render\",value:function render(){var _this$props2=this.props,loader=_this$props2.loader,userState=_this$props2.userState,drawerState=_this$props2.drawerState;return React.createElement(\"div\",{className:\"app-wrapper app-wrapper-module\"},React.createElement(\"div\",{className:\"app-module chat-module animated slideInUpTiny animation-duration-3\"},React.createElement(\"div\",{className:\"chat-module-box\"},React.createElement(\"div\",{className:\"d-block d-xl-none\"},React.createElement(Drawer,{open:drawerState,onClose:this.onChatToggleDrawer.bind(this)},userState===1?this.ChatUsers():this.AppUsersInfo())),React.createElement(\"div\",{className:\"chat-sidenav d-none d-xl-flex\"},userState===1?this.ChatUsers():this.AppUsersInfo()),loader?React.createElement(\"div\",{className:\"loader-view w-100\",style:{height:'calc(100vh - 120px)'}},React.createElement(CircularProgress,null)):this.showCommunication())));}}]);return ChatPanelWithRedux;}(Component);var mapStateToProps=function mapStateToProps(_ref){var chatData=_ref.chatData,settings=_ref.settings;var width=settings.width;var loader=chatData.loader,userNotFound=chatData.userNotFound,drawerState=chatData.drawerState,selectedSectionId=chatData.selectedSectionId,userState=chatData.userState,searchChatUser=chatData.searchChatUser,contactList=chatData.contactList,selectedUser=chatData.selectedUser,message=chatData.message,chatUsers=chatData.chatUsers,conversationList=chatData.conversationList,conversation=chatData.conversation;return{width:width,loader:loader,userNotFound:userNotFound,drawerState:drawerState,selectedSectionId:selectedSectionId,userState:userState,searchChatUser:searchChatUser,contactList:contactList,selectedUser:selectedUser,message:message,chatUsers:chatUsers,conversationList:conversationList,conversation:conversation};};export default connect(mapStateToProps,{fetchChatUser:fetchChatUser,fetchChatUserConversation:fetchChatUserConversation,filterContacts:filterContacts,filterUsers:filterUsers,onSelectUser:onSelectUser,hideLoader:hideLoader,userInfoState:userInfoState,submitComment:submitComment,updateMessageValue:updateMessageValue,updateSearchChatUser:updateSearchChatUser,onChatToggleDrawer:onChatToggleDrawer})(ChatPanelWithRedux);","map":{"version":3,"sources":["/Users/mohammad/Documents/SimpleApp/jumbo-react-source/src/app/routes/chatPanel/redux/index.js"],"names":["React","Component","connect","Button","SwipeableViews","AppBar","Tabs","Tab","Drawer","CircularProgress","IconButton","Input","ChatUserList","Conversation","ContactList","SearchBox","IntlMessages","fetchChatUser","fetchChatUserConversation","filterContacts","filterUsers","hideLoader","onChatToggleDrawer","onSelectUser","submitComment","updateMessageValue","updateSearchChatUser","userInfoState","CustomScrollbars","ChatPanelWithRedux","userName","props","_handleKeyPress","e","key","user","setTimeout","message","evt","target","value","Communication","selectedUser","conversation","conversationData","bind","thumb","status","name","height","width","maxHeight","AppUsersInfo","setState","userState","ChatUsers","searchChatUser","state","selectedTabIndex","handleChange","handleChangeIndex","chatUsers","length","userNotFound","selectedSectionId","contactList","event","index","showCommunication","loader","drawerState","mapStateToProps","chatData","settings","conversationList"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport Button from '@material-ui/core/Button';\nimport SwipeableViews from 'react-swipeable-views';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Drawer from '@material-ui/core/Drawer';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton'\nimport Input from '@material-ui/core/Input'\nimport ChatUserList from 'components/chatPanel/ChatUserList/index';\nimport Conversation from 'components/chatPanel/Conversation/index';\nimport ContactList from 'components/chatPanel/ContactList/index';\nimport SearchBox from 'components/SearchBox';\nimport IntlMessages from 'util/IntlMessages';\nimport {\n  fetchChatUser,\n  fetchChatUserConversation,\n  filterContacts,\n  filterUsers,\n  hideLoader,\n  onChatToggleDrawer,\n  onSelectUser,\n  submitComment,\n  updateMessageValue,\n  updateSearchChatUser,\n  userInfoState\n} from 'actions/Chat'\nimport CustomScrollbars from 'util/CustomScrollbars';\n\nclass ChatPanelWithRedux extends Component {\n  filterContacts = (userName) => {\n    this.props.filterContacts(userName);\n  };\n  filterUsers = (userName) => {\n    this.props.filterUsers(userName);\n  };\n  _handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.submitComment();\n    }\n  };\n\n  onSelectUser = (user) => {\n    this.props.onSelectUser(user);\n\n    setTimeout(() => {\n      this.props.hideLoader();\n    }, 1500);\n  };\n\n\n  submitComment = () => {\n    if (this.props.message !== '') {\n      this.props.submitComment();\n    }\n  };\n\n  updateMessageValue = (evt) => {\n    this.props.updateMessageValue(evt.target.value);\n\n  };\n\n  Communication = () => {\n    const {message, selectedUser, conversation} = this.props;\n    const {conversationData} = conversation;\n    return <div className=\"chat-main\">\n      <div className=\"chat-main-header\">\n        <IconButton className=\"d-block d-xl-none chat-btn\" aria-label=\"Menu\"\n                    onClick={this.onChatToggleDrawer.bind(this)}>\n          <i className=\"zmdi zmdi-comment-text\"/>\n        </IconButton>\n        <div className=\"chat-main-header-info\">\n\n          <div className=\"chat-avatar mr-2\">\n            <div className=\"chat-avatar-mode\">\n              <img src={selectedUser.thumb}\n                   className=\"rounded-circle size-60\"\n                   alt=\"\"/>\n\n              <span className={`chat-mode ${selectedUser.status}`}/>\n            </div>\n          </div>\n\n          <div className=\"chat-contact-name\">\n            {selectedUser.name}\n          </div>\n        </div>\n\n      </div>\n\n      <CustomScrollbars className=\"chat-list-scroll scrollbar\"\n                        style={{height: this.props.width >= 1200 ? 'calc(100vh - 300px)' : 'calc(100vh - 269px)'}}>\n        <Conversation conversationData={conversationData}\n                      selectedUser={selectedUser}/>\n      </CustomScrollbars>\n\n      <div className=\"chat-main-footer\">\n        <div className=\"d-flex flex-row align-items-center\" style={{maxHeight: 51}}>\n          <div className=\"col\">\n            <div className=\"form-group\">\n                            <textarea\n                              id=\"required\" className=\"border-0 form-control chat-textarea\"\n                              onKeyUp={this._handleKeyPress.bind(this)}\n                              onChange={this.updateMessageValue.bind(this)}\n                              value={message}\n                              placeholder=\"Type and hit enter to send message\"\n                            />\n            </div>\n          </div>\n          <div className=\"chat-sent\">\n            <IconButton\n              onClick={this.submitComment.bind(this)}\n              aria-label=\"Send message\">\n              <i className=\"zmdi  zmdi-mail-send\"/>\n            </IconButton>\n          </div>\n        </div>\n      </div>\n    </div>\n  };\n\n  AppUsersInfo = () => {\n    return <div className=\"chat-sidenav-main\">\n      <div className=\"bg-grey lighten-5 chat-sidenav-header\">\n\n        <div className=\"chat-user-hd mb-0\">\n          <IconButton className=\"back-to-chats-button\" aria-label=\"back button\"\n                      onClick={() => {\n                        this.setState({\n                          userState: 1\n                        });\n                      }}>\n            <i className=\"zmdi zmdi-arrow-back\"/>\n          </IconButton>\n        </div>\n        <div className=\"chat-user chat-user-center\">\n          <div className=\"chat-avatar mx-auto\">\n            <img src='https://via.placeholder.com/150x150'\n                 className=\"avatar avatar-shadow rounded-circle size-60 huge\" alt=\"John Doe\"/>\n          </div>\n\n          <div className=\"user-name h4 my-2 text-white\">Robert Johnson</div>\n\n        </div>\n      </div>\n      <div className=\"chat-sidenav-content\">\n\n        <CustomScrollbars className=\"chat-sidenav-scroll scrollbar\"\n                          style={{height: this.props.width >= 1200 ? 'calc(100vh - 328px)' : 'calc(100vh - 162px)'}}>\n          <form className=\"p-4\">\n            <div className=\"form-group mt-4\">\n              <label>Mood</label>\n\n              <Input\n                fullWidth\n                id=\"exampleTextarea\"\n                multiline\n                rows={3}\n                onKeyUp={this._handleKeyPress.bind(this)}\n                onChange={this.updateMessageValue.bind(this)}\n                defaultValue=\"it's a status....not your diary...\"\n                placeholder=\"Status\"\n                margin=\"none\"/>\n\n            </div>\n          </form>\n        </CustomScrollbars>\n\n      </div>\n    </div>\n  };\n  ChatUsers = () => {\n    return <div className=\"chat-sidenav-main\">\n      <div className=\"chat-sidenav-header\">\n\n        <div className=\"chat-user-hd\">\n\n          <div className=\"chat-avatar mr-3\" onClick={() => {\n            this.props.userInfoState(2);\n          }}>\n            <div className=\"chat-avatar-mode\">\n              <img id=\"user-avatar-button\" src='https://via.placeholder.com/150x150'\n                   className=\"rounded-circle size-50\"\n                   alt=\"\"/>\n              <span className=\"chat-mode online\"/>\n            </div>\n          </div>\n          <div className=\"module-user-info d-flex flex-column justify-content-center\">\n            <div className=\"module-title\">\n              <h5 className=\"mb-0\">Robert Johnson</h5>\n            </div>\n            <div className=\"module-user-detail\">\n              <span className=\"text-grey\">robert@example.com</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"search-wrapper\">\n\n          <SearchBox placeholder=\"Search or start new chat\"\n                     onChange={this.updateSearchChatUser.bind(this)}\n                     value={this.props.searchChatUser}/>\n\n        </div>\n      </div>\n\n      <div className=\"chat-sidenav-content\">\n        <AppBar position=\"static\" className=\"no-shadow chat-tabs-header\">\n          <Tabs\n            className=\"chat-tabs\"\n            value={this.state.selectedTabIndex}\n            onChange={this.handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            fullWidth\n          >\n            <Tab label={<IntlMessages id=\"chat.chatUser\"/>}/>\n            <Tab label={<IntlMessages id=\"chat.contacts\"/>}/>\n          </Tabs>\n        </AppBar>\n        <SwipeableViews\n          index={this.state.selectedTabIndex}\n          onChangeIndex={this.handleChangeIndex}\n        >\n          <CustomScrollbars className=\"chat-sidenav-scroll scrollbar\"\n                            style={{height: this.props.width >= 1200 ? 'calc(100vh - 328px)' : 'calc(100vh - 202px)'}}>\n            {this.props.chatUsers.length === 0 ?\n              <div className=\"p-5\">{this.props.userNotFound}</div>\n              :\n              <ChatUserList chatUsers={this.props.chatUsers}\n                            selectedSectionId={this.props.selectedSectionId}\n                            onSelectUser={this.onSelectUser.bind(this)}/>\n            }\n          </CustomScrollbars>\n\n          <CustomScrollbars className=\"chat-sidenav-scroll scrollbar\"\n                            style={{height: this.props.width >= 1200 ? 'calc(100vh - 328px)' : 'calc(100vh - 202px)'}}>\n            {\n              this.props.contactList.length === 0 ?\n                <div className=\"p-5\">{this.props.userNotFound}</div>\n                :\n                <ContactList contactList={this.props.contactList}\n                             selectedSectionId={this.props.selectedSectionId}\n                             onSelectUser={this.onSelectUser.bind(this)}/>\n            }\n          </CustomScrollbars>\n        </SwipeableViews>\n\n      </div>\n    </div>\n  };\n  handleChange = (event, value) => {\n    this.setState({selectedTabIndex: value});\n  };\n\n  handleChangeIndex = index => {\n    this.setState({selectedTabIndex: index});\n  };\n  showCommunication = () => {\n    return (\n      <div className=\"chat-box\">\n        <div className=\"chat-box-main\">{\n          this.props.selectedUser === null ?\n            <div className=\"loader-view\">\n              <i className=\"zmdi zmdi-comment s-128 text-muted\"/>\n              <h1 className=\"text-muted\"> {<IntlMessages id=\"chat.selectUserChat\"/>}</h1>\n              <Button className=\"d-block d-xl-none\" color=\"primary\"\n                      onClick={this.onChatToggleDrawer.bind(this)}>{<IntlMessages\n                id=\"chat.selectContactChat\"/>}</Button>\n            </div>\n            : this.Communication()}\n        </div>\n      </div>)\n  };\n\n  constructor() {\n    super();\n    this.state = {\n      selectedTabIndex: 0,\n    }\n  }\n\n  componentWillMount() {\n    this.props.fetchChatUser();\n    this.props.fetchChatUserConversation()\n  }\n\n  updateSearchChatUser(evt) {\n    this.props.updateSearchChatUser(evt.target.value);\n    this.props.filterContacts(evt.target.value);\n    this.props.filterUsers(evt.target.value);\n  }\n\n  onChatToggleDrawer() {\n    this.props.onChatToggleDrawer();\n  }\n\n  render() {\n    const {loader, userState, drawerState} = this.props;\n    return (\n      <div className=\"app-wrapper app-wrapper-module\">\n        <div className=\"app-module chat-module animated slideInUpTiny animation-duration-3\">\n          <div className=\"chat-module-box\">\n            <div className=\"d-block d-xl-none\">\n              <Drawer open={drawerState}\n                      onClose={this.onChatToggleDrawer.bind(this)}>\n                {userState === 1 ? this.ChatUsers() : this.AppUsersInfo()}\n              </Drawer>\n            </div>\n            <div className=\"chat-sidenav d-none d-xl-flex\">\n              {userState === 1 ? this.ChatUsers() : this.AppUsersInfo()}\n            </div>\n            {loader ?\n              <div className=\"loader-view w-100\"\n                   style={{height: 'calc(100vh - 120px)'}}>\n                <CircularProgress/>\n              </div> : this.showCommunication()\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({chatData, settings}) => {\n  const {width} = settings;\n  const {\n    loader,\n    userNotFound,\n    drawerState,\n    selectedSectionId,\n    userState,\n    searchChatUser,\n    contactList,\n    selectedUser,\n    message,\n    chatUsers,\n    conversationList,\n    conversation\n  } = chatData;\n  return {\n    width,\n    loader,\n    userNotFound,\n    drawerState,\n    selectedSectionId,\n    userState,\n    searchChatUser,\n    contactList,\n    selectedUser,\n    message,\n    chatUsers,\n    conversationList,\n    conversation\n  }\n};\n\nexport default connect(mapStateToProps, {\n  fetchChatUser,\n  fetchChatUserConversation,\n  filterContacts,\n  filterUsers,\n  onSelectUser,\n  hideLoader,\n  userInfoState,\n  submitComment,\n  updateMessageValue,\n  updateSearchChatUser,\n  onChatToggleDrawer\n})(ChatPanelWithRedux);"]},"metadata":{},"sourceType":"module"}