{"ast":null,"code":"var _jsxFileName = \"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/src/containers/SignIn.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport IntlMessages from 'util/IntlMessages';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport axios from 'axios';\nimport { hideMessage, showAuthLoader, userFacebookSignIn, userGithubSignIn, userGoogleSignIn, userSignIn, userTwitterSignIn } from 'actions/Auth';\n\nclass SignIn extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: 'demo@example.com',\n      password: 'demo#123',\n      error: false,\n      errormes: '',\n      loader: false\n    };\n  }\n\n  async login() {\n    this.setState({\n      loader: true\n    });\n    var basUrl = 'https://enrouteservice.com/api/';\n    var Data = {\n      username: this.state.email,\n      password: this.state.password\n    };\n    var self = this;\n    await axios({\n      method: 'post',\n      url: basUrl + 'token-auth',\n      data: Data\n    }).then(function (response) {\n      if (response.data.error == null) {\n        localStorage.setItem('user_id', response.data.result.related_user._id);\n        localStorage.setItem('token', response.data.result.token);\n        window.location.reload(false);\n        self.setState({\n          loader: false\n        });\n        console.log(response);\n      } else {\n        self.setState({\n          error: true,\n          errormes: response.data.error,\n          loader: false\n        });\n        console.log(response);\n      }\n    }).catch(function (error) {});\n  }\n\n  componentDidUpdate() {\n    if (this.state.error) {\n      setTimeout(() => {\n        this.setState({\n          error: false\n        });\n      }, 100);\n    }\n\n    if (localStorage.getItem('token') != null) {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    const {\n      email,\n      password\n    } = this.state; //const {showMessage, loader, alertMessage} = this.props;\n\n    return React.createElement(\"div\", {\n      className: \"app-login-container d-flex justify-content-center align-items-center animated slideInUpTiny animation-duration-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"app-login-main-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"app-logo-content d-flex align-items-center justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"logo-lg\",\n      to: \"/\",\n      title: \"Jambo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"assets/images/logo.png\"),\n      alt: \"jambo\",\n      title: \"jambo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"app-login-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"app-login-header mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(IntlMessages, {\n      id: \"appModule.email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"app-login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: React.createElement(IntlMessages, {\n        id: \"appModule.email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }),\n      fullWidth: true,\n      onChange: event => this.setState({\n        email: event.target.value\n      }),\n      defaultValue: email,\n      margin: \"normal\",\n      className: \"mt-1 my-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      type: \"password\",\n      label: React.createElement(IntlMessages, {\n        id: \"appModule.password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }),\n      fullWidth: true,\n      onChange: event => this.setState({\n        password: event.target.value\n      }),\n      defaultValue: password,\n      margin: \"normal\",\n      className: \"mt-1 my-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"mb-3 d-flex align-items-center justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: () => {\n        //this.props.showAuthLoader();\n        //this.props.userSignIn({email, password});\n        this.login();\n      },\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(IntlMessages, {\n      id: \"appModule.signIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(IntlMessages, {\n      id: \"signIn.signUp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"app-social-block my-1 my-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(IntlMessages, {\n      id: \"signIn.connectWith\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"social-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: \"icon\",\n      onClick: () => {\n        this.props.showAuthLoader();\n        this.props.userFacebookSignIn();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"zmdi zmdi-facebook\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: \"icon\",\n      onClick: () => {\n        this.props.showAuthLoader();\n        this.props.userTwitterSignIn();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"zmdi zmdi-twitter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: \"icon\",\n      onClick: () => {\n        this.props.showAuthLoader();\n        this.props.userGoogleSignIn();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"zmdi zmdi-google-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: \"icon\",\n      onClick: () => {\n        this.props.showAuthLoader();\n        this.props.userGithubSignIn();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"zmdi zmdi-github\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })))))))))), this.state.loader && React.createElement(\"div\", {\n      className: \"loader-view\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    })), this.state.error && NotificationManager.error(this.state.errormes), React.createElement(NotificationContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = ({\n  auth\n}) => {\n  const {\n    loader,\n    alertMessage,\n    showMessage,\n    authUser\n  } = auth;\n  return {\n    loader,\n    alertMessage,\n    showMessage,\n    authUser\n  };\n};\n\nexport default connect(mapStateToProps, {\n  userSignIn,\n  hideMessage,\n  showAuthLoader,\n  userFacebookSignIn,\n  userGoogleSignIn,\n  userGithubSignIn,\n  userTwitterSignIn\n})(SignIn);","map":{"version":3,"sources":["/Users/mohammad/Documents/SimpleApp/jumbo-react-source/src/containers/SignIn.js"],"names":["React","Link","connect","TextField","IconButton","Button","NotificationContainer","NotificationManager","IntlMessages","CircularProgress","axios","hideMessage","showAuthLoader","userFacebookSignIn","userGithubSignIn","userGoogleSignIn","userSignIn","userTwitterSignIn","SignIn","Component","constructor","state","email","password","error","errormes","loader","login","setState","basUrl","Data","username","self","method","url","data","then","response","localStorage","setItem","result","related_user","_id","token","window","location","reload","console","log","catch","componentDidUpdate","setTimeout","getItem","props","history","push","render","require","event","target","value","mapStateToProps","auth","alertMessage","showMessage","authUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\nimport IntlMessages from 'util/IntlMessages';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport axios from 'axios'\nimport {\n  hideMessage,\n  showAuthLoader,\n  userFacebookSignIn,\n  userGithubSignIn,\n  userGoogleSignIn,\n  userSignIn,\n  userTwitterSignIn\n} from 'actions/Auth';\n\nclass SignIn extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: 'demo@example.com',\n      password: 'demo#123',\n      error:false,\n      errormes:'',\n      loader:false\n    }\n  }\n\n  async login(){\n      this.setState({loader:true})\n      var basUrl='https://enrouteservice.com/api/'\n      var Data={\n        username:this.state.email,\n        password:this.state.password\n      }\n      var self = this\n      await axios({\n        method: 'post',\n        url: basUrl+ 'token-auth',\n        data: Data\n      }).then(function (response) {\n        if(response.data.error == null){\n          localStorage.setItem('user_id', response.data.result.related_user._id)\n          localStorage.setItem('token', response.data.result.token)\n          window.location.reload(false)\n          self.setState({loader:false})\n          console.log(response)\n        }else {\n          self.setState({error: true, errormes: response.data.error, loader: false})\n          console.log(response)\n        }\n      }).catch(function (error) {\n\n      })\n\n  }\n\n  componentDidUpdate() {\n    if (this.state.error) {\n      setTimeout(() => {\n        this.setState({error:false})\n      }, 100);\n    }\n    if (localStorage.getItem(('token'))!=null) {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    const {\n      email,\n      password\n    } = this.state;\n    //const {showMessage, loader, alertMessage} = this.props;\n    return (\n      <div\n        className=\"app-login-container d-flex justify-content-center align-items-center animated slideInUpTiny animation-duration-3\">\n        <div className=\"app-login-main-content\">\n\n          <div className=\"app-logo-content d-flex align-items-center justify-content-center\">\n            <Link className=\"logo-lg\" to=\"/\" title=\"Jambo\">\n              <img src={require(\"assets/images/logo.png\")} alt=\"jambo\" title=\"jambo\"/>\n            </Link>\n          </div>\n\n          <div className=\"app-login-content\">\n            <div className=\"app-login-header mb-4\">\n              <h1><IntlMessages id=\"appModule.email\"/></h1>\n            </div>\n\n            <div className=\"app-login-form\">\n              <form>\n                <fieldset>\n                  <TextField\n                    label={<IntlMessages id=\"appModule.email\"/>}\n                    fullWidth\n                    onChange={(event) => this.setState({email: event.target.value})}\n                    defaultValue={email}\n                    margin=\"normal\"\n                    className=\"mt-1 my-sm-3\"\n                  />\n                  <TextField\n                    type=\"password\"\n                    label={<IntlMessages id=\"appModule.password\"/>}\n                    fullWidth\n                    onChange={(event) => this.setState({password: event.target.value})}\n                    defaultValue={password}\n                    margin=\"normal\"\n                    className=\"mt-1 my-sm-3\"\n                  />\n\n                  <div className=\"mb-3 d-flex align-items-center justify-content-between\">\n                    <Button onClick={() => {\n                      //this.props.showAuthLoader();\n                      //this.props.userSignIn({email, password});\n                      this.login()\n                    }} variant=\"contained\" color=\"primary\">\n                      <IntlMessages id=\"appModule.signIn\"/>\n                    </Button>\n\n                    <Link to=\"/signup\">\n                      <IntlMessages id=\"signIn.signUp\"/>\n                    </Link>\n                  </div>\n\n                  <div className=\"app-social-block my-1 my-sm-3\">\n                    <IntlMessages\n                      id=\"signIn.connectWith\"/>\n                    <ul className=\"social-link\">\n                      <li>\n                        <IconButton className=\"icon\"\n                                    onClick={() => {\n                                      this.props.showAuthLoader();\n                                      this.props.userFacebookSignIn();\n                                    }}>\n                          <i className=\"zmdi zmdi-facebook\"/>\n                        </IconButton>\n                      </li>\n\n                      <li>\n                        <IconButton className=\"icon\"\n                                    onClick={() => {\n                                      this.props.showAuthLoader();\n                                      this.props.userTwitterSignIn();\n                                    }}>\n                          <i className=\"zmdi zmdi-twitter\"/>\n                        </IconButton>\n                      </li>\n\n                      <li>\n                        <IconButton className=\"icon\"\n                                    onClick={() => {\n                                      this.props.showAuthLoader();\n                                      this.props.userGoogleSignIn();\n\n                                    }}>\n                          <i className=\"zmdi zmdi-google-plus\"/>\n                        </IconButton>\n                      </li>\n\n                      <li>\n                        <IconButton className=\"icon\"\n                                    onClick={() => {\n                                      this.props.showAuthLoader();\n                                      this.props.userGithubSignIn();\n                                    }}>\n                          <i className=\"zmdi zmdi-github\"/>\n                        </IconButton>\n                      </li>\n                    </ul>\n                  </div>\n\n                </fieldset>\n              </form>\n            </div>\n          </div>\n\n        </div>\n        {\n          this.state.loader &&\n          <div className=\"loader-view\">\n            <CircularProgress/>\n          </div>\n        }\n        {this.state.error && NotificationManager.error(this.state.errormes)}\n        <NotificationContainer/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({auth}) => {\n  const {loader, alertMessage, showMessage, authUser} = auth;\n  return {loader, alertMessage, showMessage, authUser}\n};\n\nexport default connect(mapStateToProps, {\n  userSignIn,\n  hideMessage,\n  showAuthLoader,\n  userFacebookSignIn,\n  userGoogleSignIn,\n  userGithubSignIn,\n  userTwitterSignIn\n})(SignIn);\n"]},"metadata":{},"sourceType":"module"}