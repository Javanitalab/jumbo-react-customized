{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Nprogress from'nprogress';import ReactPlaceholder from'react-placeholder';import'nprogress/nprogress.css';import'react-placeholder/lib/reactPlaceholder.css';import CircularProgress from\"../components/CircularProgress/index\";export default function asyncComponent(importComponent){var AsyncFunc=/*#__PURE__*/function(_Component){_inherits(AsyncFunc,_Component);function AsyncFunc(props){var _this;_classCallCheck(this,AsyncFunc);_this=_possibleConstructorReturn(this,_getPrototypeOf(AsyncFunc).call(this,props));_this.state={component:null};return _this;}_createClass(AsyncFunc,[{key:\"componentWillMount\",value:function componentWillMount(){Nprogress.start();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mounted=false;}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref,Component;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.mounted=true;_context.next=3;return importComponent();case 3:_ref=_context.sent;Component=_ref.default;Nprogress.done();if(this.mounted){this.setState({component:React.createElement(Component,this.props)});}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var Component=this.state.component||React.createElement(\"div\",{className:\"loader-view\",style:{height:'calc(100vh - 200px)'}},React.createElement(CircularProgress,null));return React.createElement(ReactPlaceholder,{type:\"text\",rows:7,ready:Component!==null},Component);}}]);return AsyncFunc;}(Component);return AsyncFunc;}","map":{"version":3,"sources":["/Users/mohammad/Documents/SimpleApp/jumbo-react-source/src/util/asyncComponent.js"],"names":["React","Component","Nprogress","ReactPlaceholder","CircularProgress","asyncComponent","importComponent","AsyncFunc","props","state","component","start","mounted","default","done","setState","height"],"mappings":"08BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,mBAA7B,CACA,MAAO,yBAAP,CACA,MAAO,4CAAP,CACA,MAAOC,CAAAA,gBAAP,KAA6B,sCAA7B,CAEA,cAAe,SAASC,CAAAA,cAAT,CAAwBC,eAAxB,CAAyC,IAChDC,CAAAA,SADgD,mEAEpD,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,SAAS,CAAE,IADA,CAAb,CAFiB,aAKlB,CAPmD,qFAS/B,CACnBR,SAAS,CAACS,KAAV,GACD,CAXmD,mEAa7B,CACrB,KAAKC,OAAL,CAAe,KAAf,CACD,CAfmD,iRAkBlD,KAAKA,OAAL,CAAe,IAAf,CAlBkD,sBAmBfN,CAAAA,eAAe,EAnBA,2BAmBlCL,SAnBkC,MAmB3CY,OAnB2C,CAoBlDX,SAAS,CAACY,IAAV,GACA,GAAI,KAAKF,OAAT,CAAkB,CAChB,KAAKG,QAAL,CAAc,CACZL,SAAS,CAAE,oBAAC,SAAD,CAAe,KAAKF,KAApB,CADC,CAAd,EAGD,CAzBiD,+MA4B3C,CACP,GAAMP,CAAAA,SAAS,CAAG,KAAKQ,KAAL,CAAWC,SAAX,EAChB,2BAAK,SAAS,CAAC,aAAf,CACK,KAAK,CAAE,CAACM,MAAM,CAAE,qBAAT,CADZ,EAEE,oBAAC,gBAAD,MAFF,CADF,CAKA,MACE,qBAAC,gBAAD,EAAkB,IAAI,CAAC,MAAvB,CAA8B,IAAI,CAAE,CAApC,CAAuC,KAAK,CAAEf,SAAS,GAAK,IAA5D,EACGA,SADH,CADF,CAKD,CAvCmD,uBAC9BA,SAD8B,EA0CtD,MAAOM,CAAAA,SAAP,CACD","sourcesContent":["import React, {Component} from 'react';\nimport Nprogress from 'nprogress';\nimport ReactPlaceholder from 'react-placeholder';\nimport 'nprogress/nprogress.css';\nimport 'react-placeholder/lib/reactPlaceholder.css';\nimport CircularProgress from \"../components/CircularProgress/index\";\n\nexport default function asyncComponent(importComponent) {\n  class AsyncFunc extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        component: null\n      };\n    }\n\n    componentWillMount() {\n      Nprogress.start();\n    }\n\n    componentWillUnmount() {\n      this.mounted = false;\n    }\n\n    async componentDidMount() {\n      this.mounted = true;\n      const {default: Component} = await importComponent();\n      Nprogress.done();\n      if (this.mounted) {\n        this.setState({\n          component: <Component {...this.props} />\n        });\n      }\n    }\n\n    render() {\n      const Component = this.state.component ||\n        <div className=\"loader-view\"\n             style={{height: 'calc(100vh - 200px)'}}>\n          <CircularProgress/>\n        </div>;\n      return (\n        <ReactPlaceholder type=\"text\" rows={7} ready={Component !== null}>\n          {Component}\n        </ReactPlaceholder>\n      );\n    }\n  }\n\n  return AsyncFunc;\n}\n"]},"metadata":{},"sourceType":"module"}