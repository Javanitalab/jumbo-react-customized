{"ast":null,"code":"import _defineProperty from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mohammad/Documents/SimpleApp/jumbo-react-source/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import IconButton from'@material-ui/core/IconButton';import Input from'@material-ui/core/Input';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import Avatar from'@material-ui/core/Avatar';import labels from'app/routes/todo/data/labels';import{DatePicker}from'material-ui-pickers';import users from'app/routes/todo/data/users';import Moment from'moment';import ConversationCell from'./ConversationCell';import CustomScrollbars from'util/CustomScrollbars';var ToDoDetail=/*#__PURE__*/function(_React$Component){_inherits(ToDoDetail,_React$Component);function ToDoDetail(props){var _this;_classCallCheck(this,ToDoDetail);_this=_possibleConstructorReturn(this,_getPrototypeOf(ToDoDetail).call(this,props));_this.handleLabelClick=function(event){_this.setState({labelMenu:true,anchorEl:event.currentTarget});};_this.handleUserClick=function(event){_this.setState({userMenu:true,anchorEl:event.currentTarget});};_this.handleRequestClose=function(){_this.setState({userMenu:false,labelMenu:false});};_this._handleKeyPress=function(e){if(e.key==='Enter'){_this.submitComment();}};_this.handleEditTitle=function(){if(_this.state.editTitle){var todo=_this.state.todo;todo.title=_this.state.title;_this.props.onToDoUpdate(todo);}_this.setState({editTitle:!_this.state.editTitle});};_this.handleEditNote=function(){if(_this.state.note){var todo=_this.state.todo;todo.note=_this.state.note;_this.props.onToDoUpdate(todo);}_this.setState({editNote:!_this.state.editNote});};_this.handleDueDateChange=function(date){_this.setState({todo:_objectSpread({},_this.state.todo,{dueDate:date})});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};var _props$todo=props.todo,title=_props$todo.title,notes=_props$todo.notes;var conversation=props.conversation;_this.state={todo:props.todo,title:title,notes:notes,anchorEl:undefined,userMenu:false,labelMenu:false,editTitle:false,editNote:false,message:'',conversation:conversation};return _this;}_createClass(ToDoDetail,[{key:\"submitComment\",value:function submitComment(){if(this.state.message!==''){var updatedConversation=this.state.conversation.concat({'name':this.props.user.name,'thumb':this.props.user.avatar,'message':this.state.message,'sentAt':Moment().format('ddd DD, YYYY, hh:mm:ss A')});this.setState({conversation:updatedConversation,message:''});}}},{key:\"updateMessageValue\",value:function updateMessageValue(evt){this.setState({message:evt.target.value});}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,onToDoUpdate=_this$props.onToDoUpdate,onLabelUpdate=_this$props.onLabelUpdate,onDeleteToDo=_this$props.onDeleteToDo,width=_this$props.width;var _this$state=this.state,todo=_this$state.todo,editNote=_this$state.editNote,editTitle=_this$state.editTitle,title=_this$state.title,notes=_this$state.notes,message=_this$state.message,conversation=_this$state.conversation;var user=null;if(todo.user>0)user=users.find(function(user){return user.id===todo.user;});return React.createElement(\"div\",{className:\"module-detail module-list\"},React.createElement(CustomScrollbars,{className:\"module-list-scroll scrollbar\",style:{height:width>=1200?'calc(100vh - 335px)':'calc(100vh - 311px)'}},React.createElement(\"div\",{className:\"module-detail-item module-detail-header\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-6 col-md-8\"},React.createElement(\"div\",{className:\"d-flex align-items-center\"},React.createElement(\"div\",{className:\"user-name mr-md-4 mr-2\",onClick:this.handleUserClick},user===null?React.createElement(\"h4\",{className:\"mb-0 mouse pointer\"},\"Assign User \"):React.createElement(\"div\",{className:\"d-flex align-items-center pointer\"},React.createElement(Avatar,{className:\"mr-2\",src:user.thumb,alt:user.name}),React.createElement(\"h4\",{className:\"mb-0\"},user.name))),React.createElement(DatePicker,{className:\"module-date\",value:todo.dueDate,invalidLabel:\"Due Date\",onChange:this.handleDueDateChange.bind(this),animateYearScrolling:false,leftArrowIcon:React.createElement(\"i\",{className:\"zmdi zmdi-arrow-back\"}),rightArrowIcon:React.createElement(\"i\",{className:\"zmdi zmdi-arrow-forward\"}),InputProps:{endAdornment:React.createElement(IconButton,{className:\"icon-btn\"},React.createElement(\"i\",{className:\"zmdi zmdi-calendar\"}))}}))),React.createElement(\"div\",{className:\"col-sm-6 col-md-4\"},React.createElement(\"div\",{className:\"d-flex flex-sm-row-reverse justify-content-between justify-content-sm-start\"},React.createElement(Menu,{id:\"label-menu\",anchorEl:this.state.anchorEl,open:this.state.userMenu,onClose:this.handleRequestClose,MenuListProps:{style:{width:180}}},users.map(function(user,index){return React.createElement(MenuItem,{key:index,value:user.id,onClick:function onClick(){_this2.handleRequestClose();todo.user=user.id;onToDoUpdate(todo);}},React.createElement(\"div\",{className:\"d-flex user-name manage-margin align-items-center\"},React.createElement(Avatar,{src:user.thumb,alt:user.name}),React.createElement(\"h4\",null,user.name)));})),React.createElement(IconButton,{className:\"icon-btn\",onClick:function onClick(){onDeleteToDo(todo);}},React.createElement(\"i\",{className:\"zmdi zmdi-delete\"})),React.createElement(IconButton,{className:\"icon-btn\",onClick:function onClick(){todo.starred=!todo.starred;onToDoUpdate(todo);}},todo.starred?React.createElement(\"i\",{className:\"zmdi zmdi-star\"}):React.createElement(\"i\",{className:\"zmdi zmdi-star-outline\"})),React.createElement(IconButton,{className:\"icon-btn\",onClick:function onClick(){todo.important=!todo.important;onToDoUpdate(todo);}},todo.important?React.createElement(\"i\",{className:\"zmdi zmdi-info\"}):React.createElement(\"i\",{className:\"zmdi zmdi-info-outline\"})),React.createElement(IconButton,{className:\"icon-btn\",onClick:this.handleLabelClick},React.createElement(\"i\",{className:\"zmdi zmdi-label-alt\"})),React.createElement(Menu,{id:\"label-menu\",anchorEl:this.state.anchorEl,open:this.state.labelMenu,onClose:this.handleRequestClose,MenuListProps:{style:{width:150}}},labels.map(function(label){return React.createElement(MenuItem,{key:label.id,onClick:function onClick(){_this2.handleRequestClose();onLabelUpdate(todo,label);}},label.title);})))))),React.createElement(\"div\",{className:\"module-detail-item\"},React.createElement(\"div\",{className:\"labels mb-4\"},labels.map(function(label,index){return todo.labels.includes(label.id)&&React.createElement(\"div\",{key:index,className:\"badge text-white bg-\".concat(label.color)},label.title);})),React.createElement(\"div\",{className:\"form-group d-flex align-items-center mb-0\"},React.createElement(IconButton,{className:\"icon-btn p-1\",onClick:function onClick(event){todo.completed=!todo.completed;onToDoUpdate(todo);}},todo.completed?React.createElement(\"span\",{className:\"border-2 size-30 rounded-circle text-green border-green\"},React.createElement(\"i\",{className:\"zmdi zmdi-check\"})):React.createElement(\"span\",{className:\"border-2 size-30 w-2 rounded-circle text-muted border-grey\"},React.createElement(\"i\",{className:\"zmdi zmdi-check\"}))),editTitle?React.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},React.createElement(\"div\",{className:\"col\"},React.createElement(Input,{fullWidth:true,multiline:true,className:\"task-title\",id:\"required\",placeholder:\"Title\",onChange:function onChange(event){return _this2.setState({title:event.target.value});},defaultValue:title})),React.createElement(IconButton,{onClick:this.handleEditTitle},React.createElement(\"i\",{className:\"zmdi zmdi-check\"}))):React.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},React.createElement(\"div\",{className:\"task-title col\"},title),React.createElement(IconButton,{className:\"icon-btn\",onClick:this.handleEditTitle},React.createElement(\"i\",{className:\"zmdi zmdi-edit\"}))))),React.createElement(\"div\",{className:\"module-detail-item mb-4\"},editNote?React.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},React.createElement(Input,{fullWidth:true,id:\"required\",multiline:true,placeholder:\"Note\",onChange:function onChange(event){return _this2.setState({notes:event.target.value});},defaultValue:notes}),React.createElement(IconButton,{className:\"icon-btn\",onClick:this.handleEditNote},React.createElement(\"i\",{className:\"zmdi zmdi-check\"}))):React.createElement(\"div\",{className:\"d-flex align-items-center w-100\"},React.createElement(\"div\",{className:\"task-des col px-0\"},notes),React.createElement(IconButton,{className:\"icon-btn\",onClick:this.handleEditNote},React.createElement(\"i\",{className:\"zmdi zmdi-edit\"})))),React.createElement(\"div\",{className:\"module-detail-item\"},React.createElement(\"h3\",null,\"Comments\")),conversation.map(function(conversation,index){return React.createElement(ConversationCell,{key:index,conversation:conversation});})),React.createElement(\"div\",{className:\"chat-main-footer todo-main-footer\"},React.createElement(\"div\",{className:\"d-flex flex-row align-items-center\",style:{maxHeight:61}},React.createElement(\"div\",{className:\"col\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"textarea\",{className:\"border-0 form-control chat-textarea\",id:\"required\",onKeyUp:this._handleKeyPress.bind(this),onChange:this.updateMessageValue.bind(this),value:message,rows:2,placeholder:\"Type and hit enter to send message\"}))),React.createElement(\"div\",{className:\"chat-sent\"},React.createElement(IconButton,{onClick:this.submitComment.bind(this),\"aria-label\":\"Send message\"},React.createElement(\"i\",{className:\"zmdi  zmdi-mail-send\"}))))));}}]);return ToDoDetail;}(React.Component);export default ToDoDetail;","map":{"version":3,"sources":["/Users/mohammad/Documents/SimpleApp/jumbo-react-source/src/components/todo/ToDoDetail/index.js"],"names":["React","IconButton","Input","Menu","MenuItem","Avatar","labels","DatePicker","users","Moment","ConversationCell","CustomScrollbars","ToDoDetail","props","handleLabelClick","event","setState","labelMenu","anchorEl","currentTarget","handleUserClick","userMenu","handleRequestClose","_handleKeyPress","e","key","submitComment","handleEditTitle","state","editTitle","todo","title","onToDoUpdate","handleEditNote","note","editNote","handleDueDateChange","date","dueDate","handleChange","target","name","value","notes","conversation","undefined","message","updatedConversation","concat","user","avatar","format","evt","onLabelUpdate","onDeleteToDo","width","find","id","height","thumb","bind","endAdornment","style","map","index","starred","important","label","includes","color","completed","maxHeight","updateMessageValue","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport IconButton from '@material-ui/core/IconButton'\nimport Input from '@material-ui/core/Input'\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Avatar from '@material-ui/core/Avatar';\nimport labels from 'app/routes/todo/data/labels';\nimport {DatePicker} from 'material-ui-pickers';\nimport users from 'app/routes/todo/data/users'\nimport Moment from 'moment';\nimport ConversationCell from './ConversationCell';\nimport CustomScrollbars from 'util/CustomScrollbars';\n\n\nclass ToDoDetail extends React.Component {\n  handleLabelClick = event => {\n    this.setState({labelMenu: true, anchorEl: event.currentTarget});\n  };\n  handleUserClick = event => {\n    this.setState({userMenu: true, anchorEl: event.currentTarget});\n  };\n  handleRequestClose = () => {\n    this.setState({userMenu: false, labelMenu: false});\n  };\n\n  _handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.submitComment();\n    }\n  };\n\n  handleEditTitle = () => {\n    if (this.state.editTitle) {\n      const todo = this.state.todo;\n      todo.title = this.state.title;\n      this.props.onToDoUpdate(todo)\n    }\n    this.setState({\n      editTitle: !this.state.editTitle\n    });\n  };\n  handleEditNote = () => {\n    if (this.state.note) {\n      const todo = this.state.todo;\n      todo.note = this.state.note;\n      this.props.onToDoUpdate(todo)\n    }\n    this.setState({\n      editNote: !this.state.editNote\n    });\n  };\n  handleDueDateChange = (date) => {\n    this.setState({\n      todo: {...this.state.todo, dueDate: date}\n    });\n  };\n\n  handleChange = event => {\n    this.setState({[event.target.name]: event.target.value});\n  };\n\n  constructor(props) {\n    super(props);\n    const {title, notes} = props.todo;\n    const {conversation} = props;\n    this.state = {\n      todo: props.todo,\n      title,\n      notes,\n      anchorEl: undefined,\n      userMenu: false,\n      labelMenu: false,\n      editTitle: false,\n      editNote: false,\n      message: '',\n      conversation\n    };\n  }\n\n  submitComment() {\n    if (this.state.message !== '') {\n      const updatedConversation = this.state.conversation.concat({\n        'name': this.props.user.name,\n        'thumb': this.props.user.avatar,\n        'message': this.state.message,\n        'sentAt': Moment().format('ddd DD, YYYY, hh:mm:ss A'),\n      });\n      this.setState({\n        conversation: updatedConversation,\n        message: '',\n      });\n    }\n  }\n\n  updateMessageValue(evt) {\n    this.setState({\n      message: evt.target.value\n    });\n  }\n\n  render() {\n    const {onToDoUpdate, onLabelUpdate, onDeleteToDo, width} = this.props;\n    const {todo, editNote, editTitle, title, notes, message, conversation} = this.state;\n    let user = null;\n    if (todo.user > 0)\n      user = users.find((user) => user.id === todo.user);\n    return (\n      <div className=\"module-detail module-list\">\n        <CustomScrollbars className=\"module-list-scroll scrollbar\"\n                          style={{height: width >= 1200 ? 'calc(100vh - 335px)' : 'calc(100vh - 311px)'}}>\n\n          <div className=\"module-detail-item module-detail-header\">\n            <div className=\"row\">\n              <div className=\"col-sm-6 col-md-8\">\n                <div className=\"d-flex align-items-center\">\n                  <div className=\"user-name mr-md-4 mr-2\"\n                       onClick={this.handleUserClick}>\n\n                    {user === null ? <h4 className=\"mb-0 mouse pointer\">Assign User </h4> :\n                      <div className=\"d-flex align-items-center pointer\">\n                        <Avatar className=\"mr-2\" src={user.thumb} alt={user.name}/>\n                        <h4 className=\"mb-0\">{user.name}</h4>\n                      </div>}\n                  </div>\n                  <DatePicker className=\"module-date\"\n                              value={todo.dueDate}\n                              invalidLabel=\"Due Date\"\n                              onChange={this.handleDueDateChange.bind(this)}\n                              animateYearScrolling={false}\n                              leftArrowIcon={<i className=\"zmdi zmdi-arrow-back\"/>}\n                              rightArrowIcon={<i className=\"zmdi zmdi-arrow-forward\"/>}\n                              InputProps={{\n                                endAdornment: (\n                                  <IconButton className=\"icon-btn\">\n                                    <i className=\"zmdi zmdi-calendar\"/>\n                                  </IconButton>\n                                ),\n                              }}\n                  />\n                </div>\n              </div>\n              <div className=\"col-sm-6 col-md-4\">\n                <div\n                  className=\"d-flex flex-sm-row-reverse justify-content-between justify-content-sm-start\">\n                  <Menu\n                    id=\"label-menu\"\n                    anchorEl={this.state.anchorEl}\n                    open={this.state.userMenu}\n                    onClose={this.handleRequestClose}\n\n                    MenuListProps={{\n                      style: {\n                        width: 180,\n                      },\n                    }}>\n\n                    {users.map((user, index) =>\n                      <MenuItem key={index} value={user.id} onClick={() => {\n                        this.handleRequestClose();\n                        todo.user = user.id;\n                        onToDoUpdate(todo)\n                      }}>\n                        <div className=\"d-flex user-name manage-margin align-items-center\">\n                          <Avatar src={user.thumb} alt={user.name}/><h4>{user.name}</h4>\n                        </div>\n                      </MenuItem>\n                    )}\n\n                  </Menu>\n\n                  <IconButton className=\"icon-btn\" onClick={() => {\n                    onDeleteToDo(todo);\n                  }}>\n                    <i className=\"zmdi zmdi-delete\"/>\n                  </IconButton>\n\n                  <IconButton className=\"icon-btn\" onClick={() => {\n                    todo.starred = !todo.starred;\n                    onToDoUpdate(todo);\n                  }}>\n                    {todo.starred ?\n                      <i className=\"zmdi zmdi-star\"/> :\n                      <i className=\"zmdi zmdi-star-outline\"/>\n                    }\n\n                  </IconButton>\n\n                  <IconButton className=\"icon-btn\" onClick={() => {\n                    todo.important = !todo.important;\n                    onToDoUpdate(todo);\n                  }}>\n                    {todo.important ?\n                      <i className=\"zmdi zmdi-info\"/> :\n                      <i className=\"zmdi zmdi-info-outline\"/>\n                    }\n\n                  </IconButton>\n                  <IconButton className=\"icon-btn\" onClick={this.handleLabelClick}>\n                    <i className=\"zmdi zmdi-label-alt\"/>\n                  </IconButton>\n\n                  <Menu id=\"label-menu\"\n                        anchorEl={this.state.anchorEl}\n                        open={this.state.labelMenu}\n                        onClose={this.handleRequestClose}\n\n                        MenuListProps={{\n                          style: {\n                            width: 150,\n                          },\n                        }}>\n                    {labels.map(label =>\n                      <MenuItem key={label.id} onClick={() => {\n                        this.handleRequestClose();\n                        onLabelUpdate(todo, label)\n                      }}>\n                        {label.title}\n                      </MenuItem>,\n                    )}\n                  </Menu>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"module-detail-item\">\n\n            <div className=\"labels mb-4\">\n              {labels.map((label, index) => {\n                return (todo.labels).includes(label.id) && <div key={index}\n                                                                className={`badge text-white bg-${label.color}`}>{label.title}</div>\n              })}\n            </div>\n\n            <div className=\"form-group d-flex align-items-center mb-0\">\n              <IconButton className=\"icon-btn p-1\" onClick={(event) => {\n                todo.completed = !todo.completed;\n                onToDoUpdate(todo);\n              }}>\n                {todo.completed ?\n                  <span className=\"border-2 size-30 rounded-circle text-green border-green\">\n                                        <i className=\"zmdi zmdi-check\"/></span>\n                  : <span className=\"border-2 size-30 w-2 rounded-circle text-muted border-grey\">\n                                        <i className=\"zmdi zmdi-check\"/>\n                                    </span>\n                }\n              </IconButton>\n              {editTitle ? <div className=\"d-flex align-items-center w-100\">\n                  <div className=\"col\">\n                    <Input\n                      fullWidth\n                      multiline className=\"task-title\"\n                      id=\"required\"\n                      placeholder=\"Title\"\n                      onChange={(event) => this.setState({title: event.target.value})}\n                      defaultValue={title}/>\n                  </div>\n\n                  <IconButton onClick={this.handleEditTitle}>\n                    <i className=\"zmdi zmdi-check\"/>\n                  </IconButton>\n                </div> :\n                <div className=\"d-flex align-items-center w-100\">\n                  <div className=\"task-title col\">\n                    {title}\n                  </div>\n                  <IconButton className=\"icon-btn\" onClick={this.handleEditTitle}>\n                    <i className=\"zmdi zmdi-edit\"/>\n                  </IconButton>\n\n                </div>}\n            </div>\n\n\n          </div>\n\n          <div className=\"module-detail-item mb-4\">\n            {editNote ? <div className=\"d-flex align-items-center w-100\">\n                <Input\n                  fullWidth\n                  id=\"required\"\n                  multiline\n                  placeholder=\"Note\"\n                  onChange={(event) => this.setState({notes: event.target.value})}\n                  defaultValue={notes}/>\n\n                <IconButton className=\"icon-btn\" onClick={this.handleEditNote}>\n                  <i className=\"zmdi zmdi-check\"/>\n                </IconButton>\n              </div> :\n              <div className=\"d-flex align-items-center w-100\">\n                <div className=\"task-des col px-0\">\n                  {notes}\n                </div>\n                <IconButton className=\"icon-btn\" onClick={this.handleEditNote}>\n                  <i className=\"zmdi zmdi-edit\"/>\n                </IconButton>\n\n              </div>}\n          </div>\n          <div className=\"module-detail-item\">\n            <h3>Comments</h3>\n          </div>\n          {conversation.map((conversation, index) =>\n            <ConversationCell key={index} conversation={conversation}/>\n          )}\n\n\n        </CustomScrollbars>\n\n        <div className=\"chat-main-footer todo-main-footer\">\n          <div className=\"d-flex flex-row align-items-center\" style={{maxHeight: 61}}>\n            <div className=\"col\">\n              <div className=\"form-group\">\n                                <textarea className=\"border-0 form-control chat-textarea\"\n                                          id=\"required\"\n                                          onKeyUp={this._handleKeyPress.bind(this)}\n                                          onChange={this.updateMessageValue.bind(this)}\n                                          value={message}\n                                          rows={2}\n                                          placeholder=\"Type and hit enter to send message\"/>\n              </div>\n            </div>\n            <div className=\"chat-sent\">\n              <IconButton\n                onClick={this.submitComment.bind(this)}\n                aria-label=\"Send message\">\n                <i className=\"zmdi  zmdi-mail-send\"/>\n              </IconButton>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ToDoDetail;"]},"metadata":{},"sourceType":"module"}